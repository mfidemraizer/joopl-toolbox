"use strict";var $namespace=null,$global=null,$import=null;(function(n){var o="2.4.2",u=null,r=null,f=function(n){Object.defineProperty(this,"name",{value:n.name,writable:!1,configurable:!1,enumerable:!0});Object.defineProperty(this,"fullName",{value:n.fullName,writable:!1,configurable:!1,enumerable:!0});Object.defineProperty(this,"parent",{value:n.parent,writable:!1,configurable:!1,enumerable:!0});Object.defineProperty(this,"declareClass",{value:function(n,t){Object.defineProperty(this,n,{value:r(n,this,t),writable:!1,configurable:!1,enumerable:!0})},writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(this,"declareEnum",{value:function(n,t){Object.defineProperty(this,n,{value:u(n,this,t),writable:!1,configurable:!1,enumerable:!0})},writable:!1,enumerable:!0,configurable:!1})},i,t,e;Object.freeze(f);$global=new f({name:"$global",fullName:"$global",parent:null});i={get isIE(){if(!window)return!1;var n=document.createElement("div");return n.innerHTML="<!--[if IE]><i><\/i><![endif]-->",n.getElementsByTagName("i").length==1||navigator.userAgent.toLowerCase().indexOf("trident")>0},get isWebkit(){var n=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),t=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);return n||t}};Object.freeze(i);t={createPropertyFromDescriptor:function(n,t,i,r){r&&(i.get&&(i.get=i.get.bind(r)),i.set&&(i.set=i.set.bind(r)));Object.defineProperty(r?r:n.prototype,t,i)},createProperty:function(t,i,r,u,f){f==n&&(f=!1);t.prototype.hasOwnProperty(i)||(r&&u?Object.defineProperty(t.prototype,i,{get:r,set:u,configurable:!f,enumerable:!0}):r?Object.defineProperty(t.prototype,i,{get:r,configurable:!f,enumerable:!0}):u&&Object.defineProperty(t.prototype,i,{set:u,configurable:!f,enumerable:!0}))},createEvent:function(n,t){if(n.hasOwnProperty(t))throw Error("The source object has already defined an event called '"+t+"'");var i=new $global.joopl.EventManager({source:n});Object.defineProperty(n,t,{get:function(){return i[t]},set:function(n){i[t]=n},configurable:!1,enumerable:!0});i.register(t)},buildObject:function(n,t,i){return typeof n.base=="function"?(Object.defineProperty(n,"base",{value:new n.base(t,!1),writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(n,"_",{value:n.base._,writable:!1,configurable:!1,enumerable:!1})):Object.defineProperty(n,"_",{value:{},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(n._,"derived",{value:n,writable:!1,configurable:!0,enumerable:!1}),i&&n.ctor.call(n,t),n},buildInheritance:function(n,t){var u,r,i;if(t!=null){for(u in t.prototype._)n.prototype._[u]||Object.defineProperty(n.prototype._,u,{value:t.prototype._[u],writable:!0,configurable:!1,enumerable:!0});r=null;for(i in t.prototype)n.prototype.hasOwnProperty(i)||$global.joopl.Object.prototype.hasOwnProperty(i)||(r=Object.getOwnPropertyDescriptor(t.prototype,i),r?typeof r.value=="function"?Object.defineProperty(n.prototype,i,{value:t.prototype[i],writable:!1,enumerable:!0,configurable:!0}):this.createPropertyFromDescriptor(n,i,r):typeof t.prototype[i]=="function"&&Object.defineProperty(n.prototype,i,{value:t.prototype[i],writable:!1,enumerable:!0,configurable:!1}))}return t?t.prototype:null},hasValue:function(t){return t!==n&&t!=null}};Object.freeze(t);e={findFileInUsageMap:function(n){for(var i=$global.__DependencyUsageMap,r=!1,t=0;!r&&t<i.length;)i[t].fileName==n?r=!0:t++;return r?i[t]:null},buildDependencyList:function(n){for(var u=$global.__DependencyMap,f=$global.__DependencyUsageMap,i=this.findFileInUsageMap(n),r=[],t=0;t<i.dependsOn.length;t++)r.add(i.dependsOn[t])}};Object.freeze(e);$import={_dependencyMaps:{},map:function(n,t){this._dependencyMaps[n]=t},modules:function(t,i){var f,e,o,s;if(!(t instanceof Array))throw new $global.joopl.ArgumentException({argName:"moduleFileNames",reason:"This argument is mandatory"});if(!(i instanceof Function))throw new $global.joopl.ArgumentException({argName:"scopeFunc",reason:"This argument is mandatory"});if(f={moduleFileNames:t},Object.freeze(f),e=Object.keys(this._dependencyMaps).length>0&&window.head!=n&&window.head.js!=n,i=i.bind(f),e){var h=this._dependencyMaps,r=[],c=!1,l=0,u=null;for(o in t){if(u=h[t[o]],u instanceof Array)for(s in u)r.push(u[s]);c=!1;l=0}r.length>0&&(r.push(function(){i()}),head.js.apply(window,r))}else i()}};Object.freeze($import);$namespace={register:function(n,t){for(var e=typeof n=="string"?n.split("."):null,r=$global,i=null,o=[],u=0;u<e.length;u++)i=e[u],o.push(i),r[i]||Object.defineProperty(r,i,{value:new f({parent:r,name:i,fullName:o.join(".")}),writable:!1,configurable:!1,enumerable:!0}),r=r[i];typeof t=="function"&&$namespace.using(n,t,!0)},alias:function(n,t){$global[t]=n},using:function(t,i,r){var l,f,e,h;if(t===n)throw new $global.joopl.ArgumentException({argName:"namespace path",reason:"No namespace path has been provided"});if(typeof t=="string"){if(t.length==0)throw new $global.joopl.ArgumentException({argName:"namespace path",reason:"No namespace path has been provided"});t=[t]}if(t.length==0)throw new $global.joopl.ArgumentException({argName:"namespace path",reason:"No namespace path has been provided"});var c=null,o=$global,u=0,s=[];for(l in t){for(c=t[l].split("."),u=0;u<c.length;u++)if(o=o[c[u]],!o)throw new $global.joopl.ArgumentException({argName:"namespace path",reason:"The namespace path '"+t[l]+"' is not valid because the namespace '"+c[u]+"' is not declared"});s.push(o);o=$global}f={};e=null;for(u in s)for(h in s[u])if(f[h])throw Error("A type called '"+h+"' in current context from another namespace already exists. Create an alias or use a full namespace paths");else e=s[u][h],(e.prototype!==n&&!e.prototype.joopl!==n||e.joopl!==n)&&(f[h]=e);return Object.preventExtensions(f),i!==n&&typeof i=="function"?(r?i.bind(s[u])():i.length==0?i.bind(f)():i.bind($global)(f),null):f}};Object.freeze($namespace);r=function(i,r,u){var f=null,h,e,o,a,c,s,l;if(!u&&this?u=this:u||this||(u={}),f=u.$inmutable===!0&&Object.freeze?function(i,r){t.buildObject(this,i,r===n);Object.freeze(this)}:u.dynamic===!1&&Object.preventExtensions?function(i,r){t.buildObject(this,i,r===n);Object.preventExtensions(this)}:function(i,r){t.buildObject(this,i,r===n)},f.prototype=new $global.joopl.Object,h=null,h=u.ctor?u.ctor:function(){},Object.defineProperty(f.prototype,"ctor",{value:h,writable:!1,configurable:!1,enumerable:!1}),u.members){e=null;for(o in u.members)if(e=Object.getOwnPropertyDescriptor(u.members,o),typeof e.value=="function")f.prototype.hasOwnProperty(o)?Object.defineProperty(f.prototype,o,{value:u.members[o]}):Object.defineProperty(f.prototype,o,{value:u.members[o],writable:!1,configurable:!0,enumerable:!0});else if(o=="events"&&typeof e.value=="object")for(a in e.value)t.createEvent(f.prototype,e.value[a]);else(e.hasOwnProperty("value")||e.hasOwnProperty("get")||e.hasOwnProperty("set"))&&t.createPropertyFromDescriptor(f,o,e)}if(u.inherits&&(t.buildInheritance(f,u.inherits),Object.defineProperty(f.prototype,"base",{value:u.inherits,writable:!1,configurable:!1,enumerable:!1})),c=!1,Array.isArray(u.attributes)){for(s in u.attributes)if(!u.attributes[s]&&!(u.attributes[s].isTypeOf instanceof Function)&&!u.attributes[s].isTypeOf($global.joopl.Attribute))throw new $global.joopl.ArgumentException({argName:"attributes",reason:"A non-attribute type given as attribute"});c=!0}return typeof $global.joopl.Type=="function"&&(l={configurable:!0,enumerable:!0,writable:!1,value:new $global.joopl.Type({name:i,baseType:u.inherits?u.inherits.type:null,namespace:r,attributes:c?u.attributes:[]})},Object.defineProperty(f,"type",l),Object.defineProperty(f.prototype,"type",l)),f};Object.freeze(r);$namespace.register("joopl",function(){var n=this,f;this.Object=function(){};this.Object.prototype={get joopl(){return o},isTypeOf:function(n){var t=this,i=!1;if(this instanceof n)i=!0;else while(!i&&t.base)(i=t.base instanceof n)||(t=t.base);return i}};this.declareClass("Type",{ctor:function(n){this._.attributes=n.attributes;this._.name=n.name;this._.namespace=n.namespace;this._.baseType=n.baseType},members:{get name(){return this._.name},get fullName(){return this.namespace.fullName+"."+this.name},get baseType(){return this._.baseType},get namespace(){return this._.namespace},get attributes(){return this._.attributes},getAttribute:function(n){for(var i=!1,t=0;!i&&t<this.attributes.length;)this.attributes[t]instanceof n?i=!0:t++;return i?this.attributes[t]:null},hasAttribute:function(n){return this.getAttribute(n)!=null}}});this.declareClass("Attribute",{members:{}});f=r("EnumValue",{name:"joopl"},{ctor:function(n){this._.value=n.value;this._.name=n.name},members:{get value(){return this._.value},get name(){return this._.name},or:function(n){var i=this.value|n,t=new Number(i);return t.enum=new f({value:i}),Object.freeze(t),t},and:function(n){var i=this.value&n,t=new Number(i);return t.enum=new f({value:i}),Object.freeze(t),t},hasFlag:function(n){return(this.value&n)===Number(n)}}});this.Enum=new(r("Enum",this,{members:{parseName:function(t,i){if(t.valueNames.indexOf(i)>-1)return t[i];throw new n.ArgumentException({argName:"valueName",reason:"Given value name could not be found as value of the given enumeration type"});},parseNames:function(t,i){var u,e,r;if(!(i&&typeof i=="string"))throw new n.ArgumentException({argName:"valueName",reason:"Wrong value names"});for(u=i.replace(" ","").split(","),e=0,r=0;r<u.length;r++)e+=this.parseName(t,u[r]);return new f({value:e})}}}));u=function(t,i,r){var u,s,o,e;if(typeof r!="object")throw new n.ArgumentException({argName:"enumDef",reason:"No definition for the enumeration given"});u=function(){};u.prototype=new n.Object;s=[];for(e in r){if(typeof r[e]!="number")throw new n.ArgumentException({argName:"enumDef",reason:"An enumeration definition must contain numeric properties only"});o=new Number(r[e]);o.enum=new f({value:o,name:e});Object.defineProperty(u,e,{value:o,configurable:!1,enumerable:!0,writable:!1});s.push(e)}return Object.defineProperty(u,"valueNames",{value:s,configurable:!1,enumerable:!0,writable:!1}),Object.defineProperty(u,"type",{value:new $global.joopl.Type({name:t,fullName:i.fullName+"."+t,namespace:i}),writable:!1,configurable:!1,enumerable:!0}),Object.freeze(u),u};Object.freeze(u);this.declareClass("Event",{ctor:function(n){this._.handlers=[];this._.source=n.source},members:{get handlers(){return this._.handlers},get source(){return this._.source},addEventListener:function(n){var t=this.handlers.indexOf(n);t==-1&&this.handlers.push(n)},removeEventListener:function(n){var t=this.handlers.indexOf(n);t>=0&&this.handlers.splice(t,1)},raise:function(n){if(this.handlers.length>0)for(var t in this.handlers)this.handlers[t].bind(n?n.$this?n.$this:this.source:this.source)(n?n.args?n.args:null:null)}}});this.declareClass("EventManager",{ctor:function(n){this._.source=n.source},members:{get source(){return this._.source},register:function(n){var t=this,i=this.source;Object.defineProperty(this,n,{value:new $global.joopl.Event({source:this.source}),writable:!1,configurable:!1,enumerable:!0})}}});this.declareClass("Environment",{members:{events:["exceptionThrown"],notifyException:function(n){this.exceptionThrown.raise({args:{thrownException:n}})}}});Object.defineProperty(this.Environment,"current",{value:new this.Environment,writable:!1,configurable:!1,enumerable:!0});this.declareClass("Exception",{ctor:function(n){var r,t;if(this._.message=n.message,this._.innerException=n.innerException,r=Error(n.message),t=null,i.isIE)try{throw r;}catch(e){r=e}for(var t=r.stack.split("\n"),u=!1,f=i.isIE||i.isWebkit?0:-1,o=i.isIE||i.isWebkit?/(joopl[.A-Za-z0-9]+\.js[:0-9]+\)$)|(at Error)/:/joopl[.A-Za-z0-9]+\.js[:0-9]+$/;!u&&f<t.length;)o.test(t[++f])||(u=!0);u&&(t.splice(0,f),this._.stackTrace=t);this._.error=r;$global.joopl.Environment.current.notifyException(this._.derived)},members:{get message(){return this._.message},get innerException(){return this._.innerException},get stackTrace(){return this._.stackTrace},get error(){return this._.error},toString:function(){var n="An exception of type '"+this.type.fullName+"' has been thrown with message '"+this.message+"'\n\n";return n+="Stack trace:\n_________________________\n\n",n+this.stackTrace.join("\n")}}});this.declareClass("ArgumentException",{inherits:this.Exception,ctor:function(n){this._.argName=n.argName;var t="The given argument '"+n.argName+"' is not valid";n.reason&&(t+=" (Reason: "+n.reason+")");this.base.ctor({message:t})},members:{get argName(){return this._.argName}}});this.declareClass("NotImplementedException",{inherits:this.Exception,ctor:function(n){this.base.ctor({message:!t.hasValue(n)||!t.hasValue(n.memberName)?"A method or property is not implemented":"Method or property '"+n.memberName+"' is not implemented"});this._.memberName=n.memberName},members:{get memberName(){return this._.memberName}}})})})(undefined)