"use strict";(function(n){$namespace.register("joopl.collections",function(){var t=this;this.declareClass("List",{inherits:this.Enumerable,ctor:function(t){this._.capacity=t?typeof t.capacity=="number"?t.capacity:0:0;this._.itemArray=t?t.itemArray instanceof Array?t.itemArray:[]:[];this._.capacityCursor=0;this.capacity&&(this.itemArray[this.capacity-1]=n)},members:{get enumerator(){return new t.ListEnumerator({itemArray:this._.itemArray})},get capacity(){return this._.capacity},get itemArray(){return this._.itemArray},get capacityCursor(){return this._.capacityCursor},increaseCapacityCursor:function(){this._.capacityCursor++},avoidOverCapacityFunc:function(t){return t!==n},reverse:function(){for(var r=this._.itemArray.slice().reverse(),u=new t.List,i=0;i<r.length;i++)r[i]!==n&&u.add(r[i]);return u},count:function(n){var t=this;return n instanceof Function?this.base.count(function(i){return t.avoidOverCapacityFunc(i)&&n(i)}):this.capacity==0?this.itemArray.length:this.base.count(t.avoidOverCapacityFunc)},itemAt:function(n){return this._.itemArray[n]},indexOf:function(n){var i=-1,t=!1,r=this.enumerator;do i++,t=r.moveNext()==n;while(!t&&r.hasNext);return t?i:-1},add:function(t){if(t===n)throw new $global.joopl.ArgumentException({memberName:"item",reason:"Undefined values are not supported"});if(this.capacity==0)this.itemArray.push(t);else if(this.capacity<=this.itemArray.length)this.itemArray[this.capacityCursor]=t,this.increaseCapacityCursor();else throw new $global.joopl.ArgumentException({argName:"item",reason:"List capacity exceeded"});},addRange:function(n){n.forEach(function(n){this._.derived.add(n)}.bind(this))},insertAt:function(t,i){if(t>=this.count())throw new $global.joopl.ArgumentException({memberName:"index",reason:"Index out of range"});if(i===n)throw new $global.joopl.ArgumentException({memberName:"item",reason:"Undefined values are not supported"});this.itemArray.splice(t,0,i)},replaceAt:function(t,i){if(t>=this.count())throw new $global.joopl.ArgumentException({memberName:"index",reason:"Index out of range"});if(i===n)throw new $global.joopl.ArgumentException({memberName:"item",reason:"Undefined values are not supported"});this.itemArray[t]=i},remove:function(n){this.removeAt(this.indexOf(n))},removeAt:function(n){if(n>=this.count())throw new $global.joopl.ArgumentException({memberName:"index",reason:"Index out of range"});this.itemArray.splice(n,1)},skip:function(n){if(n>this.count())throw new $global.joopl.ArgumentException({memberName:"numberOfItems",reason:"Out of range"});var i=this.toArray();return new t.List({itemArray:i.splice(n)})},toArray:function(){var i=this.where(function(t){return t!==n}),t=[],r;return t[i.itemArray.length-1]=n,r=-1,i.forEach(function(n){t[++r]=n}),t},toString:function(){var i=[],t;for(t in this.itemArray)this.itemArray[t]!==n&&i.push(this.itemArray[t].toString());return i.join(", ")}}})})})(undefined)
